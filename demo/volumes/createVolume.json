{
  "type": "object",
  "id": "create-volume-form",
  "$schema": "http://json-schema.org/draft-03/schema#",
  "label": "Create Volume",
  "description": "",
  "canClose": true,
  "links": [
    {
      "rel": "self",
      "label": "Apply",
      "href": "http://localhost:8080/223423423342",
      "method": "PUT"
    }
  ],
  "additionalProperties": false,
  "properties": {
    "cloud": {
      "label": "Select Cloud",
      "id": "cloud",
      "type": "string",
      "alwaysFloatLabel": true,
      "enum": ["Digital Ocean", "GCE"]
    },
    "name": {
      "label": "Name",
      "id": "name",
      "type": "string",
      "required": true,
      "invalid": true,
      "autoValidate": true
    },
    "location": {
      "label": "Location",
      "id": "location",
      "type": "string",
      "enum": [],
      "required": true,
      "noLabelFloat": true
    },
    "size": {
      "label": "Size in GB",
      "id": "size",
      "type": "string",
      "format": "number",
      "required": true,
      "value": 1,
      "minimum": 1,
      "autoValidate": true,
      "helpText": "A minimum of 1 GB is required.",
      "suffix": "GB"
    },
    "externalDiskType": {
      "label": "External disk type",
      "id": "externalDiskType",
      "type": "string",
      "enum": ["pd-ssd", "pd-standard (default)"],
      "hidden": true
    },
    "fileSystemType": {
      "label": "Filesystem type",
      "id": "fileSystemType",
      "type": "string",
      "hidden": true,
      "enum": [
        "Do not automatically format.",
        "Ext4 filesystem type",
        "XFS filesystem type"
      ]
    }
  },
  "allOf": [
    {
      "if": {
        "properties": {
          "cloud": {
            "const": "Digital Ocean"
          }
        }
      },
      "then": {
        "properties": {
          "location": {
            "enum": ["Amsterdam", "Bangalore 1", "Frankfurt 1"]
          },
          "externalDiskType": {
            "hidden": true
          },
          "fileSystemType": {
            "hidden": false
          }
        }
      }
    },
    {
      "if": {
        "properties": {
          "cloud": {
            "const": "GCE"
          }
        }
      },
      "then": {
        "properties": {
          "location": {
            "enum": ["us-central1-a", "us-central1-b", "europe-west1-b"]
          },
          "externalDiskType": {
            "hidden": false
          },
          "fileSystemType": {
            "hidden": true
          }
        }
      }
    }
  ]
}
