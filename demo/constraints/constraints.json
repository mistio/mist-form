{
	"type": "object",
	"format": "form",
	"id": "constraints-form",
	"$schema": "https://json-schema.org/draft/2019-09/schema",
	"label": "Constraints",
	"description": "Constraints form",
	"submitButtonLabel": "Add",
	"canClose": true,
	"showJSON": true,
	"additionalProperties": false,
	"properties": {
	  "costConstraintContainer": {
		"name": "cost",
		"label": "Cost constraints",
		"id": "cost_constraint_container",
		"type": "object",
		"format": "subformContainer",
		"hasToggle": true,
		"properties": {
		  "subform": {
			"$ref": "#/definitions/costConstraints"
		  }
		}
	  },
	  "sizeConstraintContainer": {
		"name": "size",
		"label": "Size constraints",
		"id": "size_constraint_container",
		"type": "object",
		"format": "subformContainer",
		"hasToggle": true,
		"properties": {
		  "subform": {
			"$ref": "sizeConstraints.json#/definitions/sizeConstraints"
		  }
		}
	  },
	  "expirationConstraintContainer": {
		"name": "expiration",
		"label": "Expiration constraints",
		"id": "expiration_constraint_container",
		"type": "object",
		"format": "subformContainer",
		"hasToggle": true,
		"properties": {
		  "subform": {
			"$ref": "#/definitions/expirationConstraints"
		  }
		}
	  },
	  "fieldConstraintContainer": {
		"name": "field",
		"label": "Field constraints",
		"id": "field_constraint_container",
		"type": "object",
		"format": "subformContainer",
		"hasToggle": true,
		"omitNameFromPayload": true,
		"properties": {
		  "subform": {
			"$ref": "#/definitions/fieldConstraints"
		  }
		}
	  },
	  "customComponentsContainer": {
		"name": "custom",
		"label": "Custom components",
		"id": "custom_constraint_container",
		"type": "object",
		"format": "subformContainer",
		"hasToggle": true,
		"properties": {
			"subform": {
				"$ref": "#/definitions/customComponents"
			}
		}
	  }
	},
	"definitions": {
	  "sizeSubform": {
		"id": "size_subform",
		"type": "object",
		"format": "subform",
		"properties": {
		  "min": {
			"label": "Min size",
			"id": "min",
			"type": "string",
			"format": "number",
			"value": "",
			"minimum": 1,
			"autoValidate": true,
			"helpText": "A minimum of 1 is required"
		  },
		  "max": {
			"label": "Max size",
			"id": "max",
			"type": "string",
			"format": "number",
			"value": "",
			"minimum": 1,
			"autoValidate": true,
			"helpText": "A minimum of 1 is required."
		  },
		  "show": {
			"label": "Show field",
			"name": "show",
			"id": "show",
			"value": true,
			"type": "boolean",
			"noLabelFloat": true
		  }
		}
	  },
	  "notifySubform": {
		"id": "notify_subform",
		"type": "object",
		"format": "subform",
		"properties": {
		  "default": {
			"name": "default",
			"id": "default",
			"label": "Default",
			"type": "string",
			"format": "durationField"
		  },
		  "require": {
			"label": "Require",
			"id": "require",
			"type": "boolean"
		  },
		  "msg": {
			"label": "Message",
			"id": "message",
			"type": "string",
			"format": "textArea"
		  }
		}
	  },
	  "actionsSubform": {
		"id": "actions_subform",
		"type": "object",
		"format": "subform",
		"properties": {
		  "available": {
			"label": "Available actions",
			"id": "available",
			"type": "string",
			"format": "checkboxGroup",
			"enum": [
			  "destroy",
			  "stop",
			  "undefine"
			]
		  },
		  "default": {
			"label": "Default",
			"id": "default_action",
			"type": "string",
			"format": "dropdown",
			"searchable": true,
			"deps": [
			  {
				"prop": "enum",
				"func": "getDefaultActions",
				"dependsOn": ".available"
			  }
			]
		  }
		}
	  },
	  "costConstraints": {
		"id": "cost_constraints",
		"type": "object",
		"format": "subform",
		"properties": {
		  "max_team_run_rate": {
			"label": "Max run rate for your team",
			"name": "max_team_run_rate",
			"id": "cost_max_team_run_rate",
			"type": "string",
			"format": "number",
			"value": 1,
			"minimum": 1,
			"autoValidate": true,
			"helpText": "A minimum of 1 $ is required.",
			"suffix": "$"
		  },
		  "max_total_run_rate": {
			"label": "Max run rate for your entire organization",
			"name": "max_total_run_rate",
			"id": "cost_max_total_run_rate",
			"type": "string",
			"format": "number",
			"value": 1,
			"minimum": 1,
			"autoValidate": true,
			"helpText": "A minimum of 1 $ is required.",
			"suffix": "$"
		  }
		}
	  },
	  "fieldConstraints": {
		"id": "field_constraints",
		"type": "object",
		"format": "subform",
		"properties": {
		  "field": {
			"name": "field",
			"label": "Field",
			"id": "field",
			"type": "object",
			"format": "multiRow",
			"inline": true,
			"properties": {
			  "subform": {
				"$ref": "#/definitions/fieldElementSubform"
			  }
			}
		  }
		}
	  },
	  "fieldElementSubform": {
		"id": "field_element_subform",
		"type": "object",
		"format": "subform",
		"properties": {
		  "cloud": {
			"label": "Cloud",
			"id": "cloud",
			"type": "string",
			"format": "dropdown",
			"x-mist-enum": "clouds"
		  },
		  "fieldName": {
			"label": "Field name",
			"id": "name",
			"name": "name",
			"type": "string",
			"classes": "field-name",
			"noLabelFloat": true,
			"deps": [
			  {
				"prop": "hidden",
				"func": "fieldNameHidden",
				"dependsOn": ".cloud"
			  }
			]
		  },
		  "fieldValue": {
			"label": "Field value",
			"id": "value",
			"name": "value",
			"type": "string",
			"noLabelFloat": true
		  },
		  "show": {
			"label": "Show",
			"name": "show",
			"id": "show",
			"value": true,
			"type": "boolean",
			"hideLabel": true
		  },
		  "subformInMultirowContainer": {
			"name": "subform_in_multirow",
			"id": "subform_in_multirow",
			"type": "object",
			"format": "subformContainer",
			"hasToggle": false,

			"excludeFromPayload": true,
			"properties": {
			  "subform": {
				"$ref": "#/definitions/subformInMultirowSubform"
			  }
			}
		  }
		}
	  },
	  "subformInMultirowSubform": {
		"id": "subform_in_multirow_subform",
		"type": "object",
		"format": "subform",
		"properties": {
			"test": {
				"name": "test",
				"id": "test",
				"label": "Test",
				"type": "string"
			  }
		}
	  },
	  "expirationConstraints": {
		"id": "expiration_constraints",
		"type": "object",
		"format": "subform",
		"properties": {
		  "max": {
			"name": "max",
			"id": "max",
			"label": "Max",
			"type": "string",
			"format": "durationField"
		  },
		  "default": {
			"name": "default",
			"id": "default",
			"label": "Default",
			"type": "string",
			"format": "durationField"
		  },
		  "actions": {
			"name": "actions",
			"label": "Actions",
			"id": "expiration_actions",
			"type": "object",
			"format": "subformContainer",
			"properties": {
			  "subform": {
				"$ref": "#/definitions/actionsSubform"
			  }
			}
		  },
		  "notify": {
			"name": "notify",
			"label": "Notify",
			"id": "expiration_notify",
			"type": "object",
			"format": "subformContainer",
			"properties": {
			  "subform": {
				"$ref": "#/definitions/notifySubform"
			  }
			}
		  }
		}
	  },
	  "customComponents": {
		"id": "custom_Components",
		"type": "object",
		"format": "subform",
		"properties": {
		  "paperSlider1": {
			"label": "Paper slider 1",
			"id": "paper_slider1",
			"type": "string",
			"format": "paperSlider",
			"name": "paperSlider1",
			"deps": [
			  {
				"prop": "hidden",
				"func": "hidePaperSlider1",
				"dependsOn": ".hidePaperSlider1"
			  }
			]
		  },
		  "paperSlider2": {
			"label": "Paper slider 2",
			"id": "paper_slider2",
			"type": "string",
			"format": "paperSlider",
			"name": "paperSlider2"
		  },
		  "colorSwatch": {
			"label": "Color swatch",
			"id": "color_swatch",
			"type": "string",
			"format": "colorSwatch",
			"name": "colorSwatch"
		  },
		  "hidePaperSlider1": {
			"label": "Hide paperSlider1?",
			"id": "hide_paper_slider1",
			"type": "string"
		  }
		}
	  },
	  "customComponents2": {
		"id": "custom_Components2",
		"type": "object",
		"format": "subform",
		"properties": {
		  "paperSlider1": {
			"label": "Paper slider 1",
			"id": "paper_slider1",
			"type": "string",
			"format": "paperSlider",
			"name": "paperSlider1"
		  }
		}
	  }
	}
  }